(this.webpackJsonphacker_news=this.webpackJsonphacker_news||[]).push([[0],{23:function(t,n,e){t.exports=e.p+"static/media/news.1dbe4503.svg"},25:function(t,n,e){t.exports=e(50)},30:function(t,n,e){},31:function(t,n,e){},50:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),o=e(19),c=e.n(o),i=(e(30),e(31),e(5)),u=e(4),s=e.n(u),l=e(6),f=e.n(l),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,e=t.by,r=t.url,a=t.time,o=t.title;return{id:n,by:e,url:r,time:a,title:o}},b=e(2),m=e(3);function p(){var t=Object(b.a)(["\n  font-weight: bold;\n  color: ",";\n"]);return p=function(){return t},t}function h(){var t=Object(b.a)(["\n  font-style: italic;\n\n  > span:not(:first-child):before {\n    content: &#8729;\n    margin: 0 7px;\n  }\n\n  .story__meta-bold {\n    font-weight: bold;\n  }\n"]);return h=function(){return t},t}function v(){var t=Object(b.a)(["\n  margin-bottom: 5px;\n  font-size: 18px;\n  line-height: 1.8;\n  text-decoration: none;\n\n  a {\n    color: #2e2e2c;\n    background-color: #f8dc3d;\n    text-decoration: none;\n  }\n"]);return v=function(){return t},t}function g(){var t=Object(b.a)(["\n  padding-top: 10px;\n  margin-bottom: 20px;\n  border-top: 1px solid #cccccc;\n\n  &:first-of-tipe {\n    border-top: 0;\n  }\n  &:last-of-tipe {\n    margin-bottom: 0;\n    padding-botton: 0;\n  }\n"]);return g=function(){return t},t}var w=m.b.section(g()),x=m.b.h1(v()),E=m.b.div(h()),y=m.b.span(p(),(function(t){return t.color||"red"}));var j=function(t){var n=t.storyId,e=Object(r.useState)({}),o=Object(i.a)(e,2),c=o[0],u=o[1];return Object(r.useEffect)((function(){(function(t){var n;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(f.a.get("/story/".concat(t)).then((function(t){var n;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,s.a.awrap(n);case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=d(n);case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}))})));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}))})(n).then((function(t){return t&&t.url&&u(t)}))}),[]),c&&c.url?a.a.createElement(w,{"data-testedid":"story"},a.a.createElement(x,null,a.a.createElement("a",{href:"".concat(c.url)},c.title)),a.a.createElement(E,null,a.a.createElement("span",{className:"story__by","data-testedid":"story-by"},a.a.createElement(y,{color:"#000"},"By: "),c.by),a.a.createElement("br",null),a.a.createElement("span",{className:"story__time","data-testedid":"story-time"},a.a.createElement(y,{color:"#000"},"Posted: "),function(t){var n=Math.floor((new Date-1e3*t)/1e3),e=Math.floor(n/31536e3);return e>1?"".concat(e," years"):(e=Math.floor(n/2592e3))>1?"".concat(e," months"):(e=Math.floor(n/86400))>1?"".concat(e," days"):(e=Math.floor(n/3600))>1?"".concat(e," hours"):(e=Math.floor(n/60))>1?"".concat(e," minutes"):"".concat(Math.floor(n)," seconds")}(c.time)))):null};function O(){var t=Object(b.a)(["\n  max-width: 1200px;\n  padding: 20px 15px;\n  margin: auto;\n  color: #fff;\n"]);return O=function(){return t},t}function k(){var t=Object(b.a)(["\n\thtml {\n\t\t-webkit-box-sizing: border-box;\n\t\t\t\t\t\tbox-sizing: border-box;\n\t}\n\n\t*, *:before, *after {\n\t\t-webkit-box-sizing: inherit;\n\t\t\t\t\t\tbox-sizing: inherit;\n\t}\n\n\tbody {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tline-height: 1;\n\t\tcolor: #202020;\n\t\tbackground-color: #fafafe;\n\t\tfont-family: Arial, Helvatica, sans-serif;\n\t\tfont-size: 16px;\n\t\tbackground-color: rgb(40, 40, 40);\n\t}\n\n\tul {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n"]);return k=function(){return t},t}var _=Object(m.a)(k()),M=m.b.main(O()),z=e(23),S=e.n(z);function H(){var t=Object(b.a)([""]);return H=function(){return t},t}var I=function(){var t=m.b.div(H());return a.a.createElement(t,null,a.a.createElement("img",{src:S.a,width:"350",alt:"news"}))};var B=function(){var t=function(){var t=Object(r.useState)(!1),n=Object(i.a)(t,2),e=n[0],a=n[1],o=Object(r.useState)(30),c=Object(i.a)(o,2),u=c[0],s=c[1],l=function(){if(window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||e)return!1;a(!0)};return Object(r.useEffect)((function(){e&&(s(u+30>=500?500:u+30),a(!1))}),[e]),Object(r.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[]),{count:u}}().count,n=Object(r.useState)(),e=Object(i.a)(n,2),o=e[0],c=e[1],u=Object(r.useState)([]),l=Object(i.a)(u,2),d=l[0],b=l[1];return Object(r.useEffect)((function(){(function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(f.a.get("/weather").then((function(t){return t.data})));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}))})().then((function(t){return t&&c(t)})),function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(f.a.get("/storyIds").then((function(t){return t.data})));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}))}().then((function(t){return t&&b(t)}))}),[]),console.log(o),a.a.createElement(a.a.Fragment,null,a.a.createElement(_,null),a.a.createElement(M,{"data-testedid":"stories-container"},a.a.createElement("h1",null,"Hacker news"),a.a.createElement("span",null,o),a.a.createElement(I,null),d.slice(0,t).map((function(t){return a.a.createElement(j,{key:t,storyId:t})}))))};f.a.defaults.baseURL="https://europe-west2-hackernews-0000.cloudfunctions.net/api";var L=function(){return a.a.createElement("div",null,a.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.67a81750.chunk.js.map