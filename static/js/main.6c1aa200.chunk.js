(this.webpackJsonphacker_news=this.webpackJsonphacker_news||[]).push([[0],{170:function(t,n,e){t.exports=e.p+"static/media/news.1dbe4503.svg"},172:function(t,n,e){t.exports=e(402)},177:function(t,n,e){},178:function(t,n,e){},219:function(t,n){},233:function(t,n){},235:function(t,n){},402:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),o=e(165),c=e.n(o),i=(e(177),e(178),e(13)),u=e(11),s=e.n(u),l=e(55),f=e.n(l),d=e(166),b=e.n(d),m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,e=t.by,r=t.url,a=t.time,o=t.title;return{id:n,by:e,url:r,time:a,title:o}},p="https://hacker-news.firebaseio.com/v0/",h="".concat(p,"newstories.json"),v="".concat(p,"item/"),g=e(7),w=e(8);function x(){var t=Object(g.a)(["\n  font-weight: bold;\n  color: ",";\n"]);return x=function(){return t},t}function E(){var t=Object(g.a)(["\n  font-style: italic;\n\n  > span:not(:first-child):before {\n    content: &#8729;\n    margin: 0 7px;\n  }\n\n  .story__meta-bold {\n    font-weight: bold;\n  }\n"]);return E=function(){return t},t}function y(){var t=Object(g.a)(["\n  margin-bottom: 5px;\n  font-size: 18px;\n  line-height: 1.8;\n  text-decoration: none;\n\n  a {\n    color: #2e2e2c;\n    background-color: #f8dc3d;\n    text-decoration: none;\n  }\n"]);return y=function(){return t},t}function j(){var t=Object(g.a)(["\n  padding-top: 10px;\n  margin-bottom: 20px;\n  border-top: 1px solid #cccccc;\n\n  &:first-of-tipe {\n    border-top: 0;\n  }\n  &:last-of-tipe {\n    margin-bottom: 0;\n    padding-botton: 0;\n  }\n"]);return j=function(){return t},t}var O=w.b.section(j()),k=w.b.h1(y()),_=w.b.div(E()),M=w.b.span(x(),(function(t){return t.color||"red"}));var z=function(t){var n=t.storyId,e=Object(r.useState)({}),o=Object(i.a)(e,2),c=o[0],u=o[1];return Object(r.useEffect)((function(){(function(t){var n;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(f.a.get("".concat(v+t,".json")).then((function(t){var n=t.data;return n&&m(n)})));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}))})(n).then((function(t){return t&&t.url&&u(t)}))}),[]),c&&c.url?a.a.createElement(O,{"data-testedid":"story"},a.a.createElement(k,null,a.a.createElement("a",{href:"".concat(c.url)},c.title)),a.a.createElement(_,null,a.a.createElement("span",{className:"story__by","data-testedid":"story-by"},a.a.createElement(M,{color:"#000"},"By: "),c.by),a.a.createElement("br",null),a.a.createElement("span",{className:"story__time","data-testedid":"story-time"},a.a.createElement(M,{color:"#000"},"Posted: "),function(t){var n=Math.floor((new Date-1e3*t)/1e3),e=Math.floor(n/31536e3);return e>1?"".concat(e," years"):(e=Math.floor(n/2592e3))>1?"".concat(e," months"):(e=Math.floor(n/86400))>1?"".concat(e," days"):(e=Math.floor(n/3600))>1?"".concat(e," hours"):(e=Math.floor(n/60))>1?"".concat(e," minutes"):"".concat(Math.floor(n)," seconds")}(c.time)))):null};function S(){var t=Object(g.a)(["\n  max-width: 1200px;\n  padding: 20px 15px;\n  margin: auto;\n  color: #fff;\n"]);return S=function(){return t},t}function H(){var t=Object(g.a)(["\n\thtml {\n\t\t-webkit-box-sizing: border-box;\n\t\t\t\t\t\tbox-sizing: border-box;\n\t}\n\n\t*, *:before, *after {\n\t\t-webkit-box-sizing: inherit;\n\t\t\t\t\t\tbox-sizing: inherit;\n\t}\n\n\tbody {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tline-height: 1;\n\t\tcolor: #202020;\n\t\tbackground-color: #fafafe;\n\t\tfont-family: Arial, Helvatica, sans-serif;\n\t\tfont-size: 16px;\n\t\tbackground-color: rgb(40, 40, 40);\n\t}\n\n\tul {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n"]);return H=function(){return t},t}var B=Object(w.a)(H()),I=w.b.main(S()),J=e(170),L=e.n(J);function N(){var t=Object(g.a)([""]);return N=function(){return t},t}var W=function(){var t=w.b.div(N());return a.a.createElement(t,null,a.a.createElement("img",{src:L.a,width:"350",alt:"news"}))};var A=function(){var t=function(){var t=Object(r.useState)(!1),n=Object(i.a)(t,2),e=n[0],a=n[1],o=Object(r.useState)(30),c=Object(i.a)(o,2),u=c[0],s=c[1],l=function(){if(window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||e)return!1;a(!0)};return Object(r.useEffect)((function(){e&&(s(u+30>=500?500:u+30),a(!1))}),[e]),Object(r.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[]),{count:u}}().count,n=Object(r.useState)(),e=Object(i.a)(n,2),o=e[0],c=e[1],u=Object(r.useState)([]),l=Object(i.a)(u,2),d=l[0],m=l[1];return Object(r.useEffect)((function(){(function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(f.a.get("https://darksky.net/forecast/41.2647,69.2163/ca24/en").then((function(t){var n,e;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.data,r.next=3,s.a.awrap(b.a.load(n)(".desc .swap").text());case 3:return e=r.sent,r.abrupt("return",e);case 5:case"end":return r.stop()}}))})));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}))})().then((function(t){return t&&c(t)})),function(){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(f.a.get(h).then((function(t){return t.data})));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}))}().then((function(t){return t&&m(t)}))}),[]),console.log(o),a.a.createElement(a.a.Fragment,null,a.a.createElement(B,null),a.a.createElement(I,{"data-testedid":"stories-container"},a.a.createElement("h1",null,"Hacker news"),a.a.createElement("span",null,o),a.a.createElement(W,null),d.slice(0,t).map((function(t){return a.a.createElement(z,{key:t,storyId:t})}))))};var D=function(){return a.a.createElement("div",null,a.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[172,1,2]]]);
//# sourceMappingURL=main.6c1aa200.chunk.js.map